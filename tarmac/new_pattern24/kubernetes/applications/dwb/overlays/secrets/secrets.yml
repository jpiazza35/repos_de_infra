apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  name: dwb-external-secret
spec:
  data:
  - remoteRef:
      conversionStrategy: Default
      decodingStrategy: None
      metadataPolicy: None
      key: dwb/AUTH0_AUDIENCE
      property: AUTH0_AUDIENCE
    secretKey: dwb-auth0-audience
  - remoteRef:
      conversionStrategy: Default
      decodingStrategy: None
      metadataPolicy: None
      key: dwb/AUTH0_DOMAIN
      property: AUTH0_DOMAIN
    secretKey: dwb-auth0-domain
  - remoteRef:
      conversionStrategy: Default
      decodingStrategy: None
      metadataPolicy: None
      key: dwb/AUTH0_CLIENTID
      property: AUTH0_CLIENTID
    secretKey: dwb-auth0-clientid
  - remoteRef:
      conversionStrategy: Default
      decodingStrategy: None
      metadataPolicy: None
      key: dwb/LAUNCH_DARKLY_KEY
      property: LAUNCH_DARKLY_KEY
    secretKey: dwb-launch-darkly-key
  - remoteRef:
      conversionStrategy: Default
      decodingStrategy: None
      metadataPolicy: None
      key: dwb/AWS_S3BUCKET
      property: AWS_S3BUCKET
    secretKey: dwb-aws-s3bucket
  - remoteRef:
      conversionStrategy: Default
      decodingStrategy: None
      metadataPolicy: None
      key: dwb/DATABRICKS_DOWNLOAD_JOBID
      property: DATABRICKS_DOWNLOAD_JOBID
    secretKey: dwb-databricks-download-jobid
  - remoteRef:
      conversionStrategy: Default
      decodingStrategy: None
      metadataPolicy: None
      key: dwb/DATABRICKS_HOST
      property: DATABRICKS_HOST
    secretKey: dwb-databricks-host
  - remoteRef:
      conversionStrategy: Default
      decodingStrategy: None
      metadataPolicy: None
      key: databricks/service-principal-tokens/sdlc-survey-data-workbench-service-principal
      property: token
    secretKey: dwb-databricks-token
  - remoteRef:
      conversionStrategy: Default
      decodingStrategy: None
      metadataPolicy: None
      key: dwb/DATABRICKS_AUDITBOOKS_REPLICATE_JOBID
      property: DATABRICKS_AUDITBOOKS_REPLICATE_JOBID
    secretKey: dwb-databricks-auditbooks-replicate-jobid
  - remoteRef:
      conversionStrategy: Default
      decodingStrategy: None
      metadataPolicy: None
      key: dwb/KAFKA_BROKER
      property: KAFKA_BROKER
    secretKey: dwb-kafka-broker
  - remoteRef:
      conversionStrategy: Default
      decodingStrategy: None
      metadataPolicy: None
      key: dwb/MSK_ARN_ROLE
      property: MSK_ARN_ROLE
    secretKey: dwb-msk-arn-role
  - remoteRef:
      conversionStrategy: Default
      decodingStrategy: None
      metadataPolicy: None
      key: dwb/DATABRICKS_PREFIX
      property: DATABRICKS_PREFIX
    secretKey: dwb-databricks-prefix
  refreshInterval: 5m
  secretStoreRef:
    kind: ClusterSecretStore
    name: vault-backend
  target:
    creationPolicy: Owner
    deletionPolicy: Retain
    name: dwb-external-secret
