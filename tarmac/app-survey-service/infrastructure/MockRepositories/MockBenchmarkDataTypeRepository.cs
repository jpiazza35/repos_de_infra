using CN.Survey.Domain;
using Microsoft.Extensions.Logging;
using Newtonsoft.Json;

namespace CN.Survey.Infrastructure.MockRepositories;

public class MockBenchmarkDataTypeRepository : IBenchmarkDataTypeRepository
{
    private readonly IDBContext _benchmarkDBContext;
    private readonly ILogger<MockBenchmarkDataTypeRepository> _logger;

    public MockBenchmarkDataTypeRepository(IDBContext benchmarkDBContext, ILogger<MockBenchmarkDataTypeRepository> logger)
    {
        _benchmarkDBContext = benchmarkDBContext;
        _logger = logger;
    }

    public async Task<List<BenchmarkDataType>?> GetBenchmarkDataTypes(int sourceGroupKey)
    {
        try
        {
            _logger.LogInformation($"\nObtaining benchmark data types for source group key: {sourceGroupKey} \n");

            var jsonData = "[{\"ID\":82,\"Name\":\"Actual Annual Incentive\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":70,\"SurveySourceGroupKey\":6},{\"ID\":49,\"Name\":\"Admin Compensation\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":50,\"SurveySourceGroupKey\":1},{\"ID\":87,\"Name\":\"Annual Incentive Maximum Opportunity\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":79,\"SurveySourceGroupKey\":6},{\"ID\":83,\"Name\":\"Annual Incentive Receiving\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":71,\"SurveySourceGroupKey\":6},{\"ID\":85,\"Name\":\"Annual Incentive Threshold Opportunity\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":77,\"SurveySourceGroupKey\":6},{\"ID\":81,\"Name\":\"Annual Pay Range Maximum\",\"AgingFactor\":2,\"DefaultDataType\":null,\"OrderDataType\":69,\"SurveySourceGroupKey\":6},{\"ID\":80,\"Name\":\"Annual Pay Range Midpoint\",\"AgingFactor\":2,\"DefaultDataType\":null,\"OrderDataType\":68,\"SurveySourceGroupKey\":6},{\"ID\":79,\"Name\":\"Annual Pay Range Minimum\",\"AgingFactor\":2,\"DefaultDataType\":true,\"OrderDataType\":67,\"SurveySourceGroupKey\":6},{\"ID\":1,\"Name\":\"Annualized Base Salary\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":1,\"SurveySourceGroupKey\":6},{\"ID\":1,\"Name\":\"Annualized Base Salary\",\"AgingFactor\":3,\"DefaultDataType\":null,\"OrderDataType\":1,\"SurveySourceGroupKey\":3},{\"ID\":1,\"Name\":\"Annualized Base Salary\",\"AgingFactor\":3,\"DefaultDataType\":null,\"OrderDataType\":1,\"SurveySourceGroupKey\":5},{\"ID\":59,\"Name\":\"APP Supervisory Pay\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":60,\"SurveySourceGroupKey\":1},{\"ID\":20,\"Name\":\"ASA Units\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":20,\"SurveySourceGroupKey\":1},{\"ID\":20,\"Name\":\"ASA Units\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":20,\"SurveySourceGroupKey\":4},{\"ID\":23,\"Name\":\"ASA Units per Patient\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":25,\"SurveySourceGroupKey\":4},{\"ID\":23,\"Name\":\"ASA Units per Patient\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":25,\"SurveySourceGroupKey\":1},{\"ID\":24,\"Name\":\"ASA Units per Visit\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":26,\"SurveySourceGroupKey\":1},{\"ID\":24,\"Name\":\"ASA Units per Visit\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":26,\"SurveySourceGroupKey\":4},{\"ID\":29,\"Name\":\"Base Pay Hourly Rate\",\"AgingFactor\":3,\"DefaultDataType\":null,\"OrderDataType\":42,\"SurveySourceGroupKey\":6},{\"ID\":29,\"Name\":\"Base Pay Hourly Rate\",\"AgingFactor\":3,\"DefaultDataType\":null,\"OrderDataType\":42,\"SurveySourceGroupKey\":3},{\"ID\":58,\"Name\":\"Base Salary (Administrative)\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":57,\"SurveySourceGroupKey\":1},{\"ID\":60,\"Name\":\"Base Salary (Clinical)\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":47,\"SurveySourceGroupKey\":1},{\"ID\":63,\"Name\":\"Base Salary (Research and Teaching)\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":62,\"SurveySourceGroupKey\":1},{\"ID\":17,\"Name\":\"Bonus\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":23,\"SurveySourceGroupKey\":4},{\"ID\":17,\"Name\":\"Bonus\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":23,\"SurveySourceGroupKey\":1},{\"ID\":50,\"Name\":\"Clinical Compensation\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":51,\"SurveySourceGroupKey\":1},{\"ID\":30,\"Name\":\"CME Expenses\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":41,\"SurveySourceGroupKey\":1},{\"ID\":4,\"Name\":\"Collections\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":7,\"SurveySourceGroupKey\":3},{\"ID\":4,\"Name\":\"Collections\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":7,\"SurveySourceGroupKey\":1},{\"ID\":4,\"Name\":\"Collections\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":7,\"SurveySourceGroupKey\":4},{\"ID\":21,\"Name\":\"Collections per ASA Unit\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":22,\"SurveySourceGroupKey\":4},{\"ID\":21,\"Name\":\"Collections per ASA Unit\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":22,\"SurveySourceGroupKey\":1},{\"ID\":15,\"Name\":\"Collections per Patient\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":19,\"SurveySourceGroupKey\":1},{\"ID\":15,\"Name\":\"Collections per Patient\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":19,\"SurveySourceGroupKey\":4},{\"ID\":47,\"Name\":\"Collections per Total RVU\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":48,\"SurveySourceGroupKey\":1},{\"ID\":10,\"Name\":\"Collections per Visit\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":17,\"SurveySourceGroupKey\":4},{\"ID\":10,\"Name\":\"Collections per Visit\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":17,\"SurveySourceGroupKey\":1},{\"ID\":7,\"Name\":\"Collections per Work RVU\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":9,\"SurveySourceGroupKey\":1},{\"ID\":7,\"Name\":\"Collections per Work RVU\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":9,\"SurveySourceGroupKey\":4},{\"ID\":35,\"Name\":\"Compensation\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":31,\"SurveySourceGroupKey\":5},{\"ID\":25,\"Name\":\"Equated Hourly Rate - Restricted\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":27,\"SurveySourceGroupKey\":2},{\"ID\":33,\"Name\":\"Equated Hourly Rate - Unrestricted\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":38,\"SurveySourceGroupKey\":2},{\"ID\":53,\"Name\":\"FTE : ART\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":53,\"SurveySourceGroupKey\":1},{\"ID\":52,\"Name\":\"FTE : Clinical\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":52,\"SurveySourceGroupKey\":1},{\"ID\":78,\"Name\":\"Hourly Pay Range Midpoint\",\"AgingFactor\":2,\"DefaultDataType\":null,\"OrderDataType\":66,\"SurveySourceGroupKey\":6},{\"ID\":28,\"Name\":\"LTI\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":3,\"SurveySourceGroupKey\":5},{\"ID\":39,\"Name\":\"Maximum Incentive\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":35,\"SurveySourceGroupKey\":5},{\"ID\":40,\"Name\":\"Maximum TCC\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":29,\"SurveySourceGroupKey\":5},{\"ID\":37,\"Name\":\"Maximum Total Compensation\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":33,\"SurveySourceGroupKey\":5},{\"ID\":55,\"Name\":\"Other Cash Comp\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":56,\"SurveySourceGroupKey\":1},{\"ID\":13,\"Name\":\"Panel Size\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":16,\"SurveySourceGroupKey\":3},{\"ID\":13,\"Name\":\"Panel Size\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":16,\"SurveySourceGroupKey\":4},{\"ID\":13,\"Name\":\"Panel Size\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":16,\"SurveySourceGroupKey\":1},{\"ID\":44,\"Name\":\"Pay Range Maximum\",\"AgingFactor\":1.2345,\"DefaultDataType\":true,\"OrderDataType\":44,\"SurveySourceGroupKey\":6},{\"ID\":45,\"Name\":\"Pay Range Minimum\",\"AgingFactor\":2,\"DefaultDataType\":null,\"OrderDataType\":45,\"SurveySourceGroupKey\":6},{\"ID\":61,\"Name\":\"Performance/Quality Based Incentive (Actual)\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":61,\"SurveySourceGroupKey\":1},{\"ID\":62,\"Name\":\"Productivity Based Incentive (Actual)\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":58,\"SurveySourceGroupKey\":1},{\"ID\":57,\"Name\":\"Provider Based Collections\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":59,\"SurveySourceGroupKey\":1},{\"ID\":31,\"Name\":\"Qualified Deferred Compensation Contributions\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":40,\"SurveySourceGroupKey\":1},{\"ID\":32,\"Name\":\"Qualified Deferred Compensation Contributions as a Percentage of TCC\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":39,\"SurveySourceGroupKey\":1},{\"ID\":27,\"Name\":\"STI\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":2,\"SurveySourceGroupKey\":5},{\"ID\":84,\"Name\":\"Target Annual Incentive\",\"AgingFactor\":0,\"DefaultDataType\":true,\"OrderDataType\":72,\"SurveySourceGroupKey\":6},{\"ID\":38,\"Name\":\"Target Incentive\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":34,\"SurveySourceGroupKey\":5},{\"ID\":42,\"Name\":\"Target Incentive Percentage\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":36,\"SurveySourceGroupKey\":6},{\"ID\":41,\"Name\":\"Target TCC\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":28,\"SurveySourceGroupKey\":5},{\"ID\":36,\"Name\":\"Target Total Compensation\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":32,\"SurveySourceGroupKey\":5},{\"ID\":2,\"Name\":\"TCC\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":4,\"SurveySourceGroupKey\":5},{\"ID\":2,\"Name\":\"TCC\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":4,\"SurveySourceGroupKey\":3},{\"ID\":2,\"Name\":\"TCC\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":4,\"SurveySourceGroupKey\":1},{\"ID\":2,\"Name\":\"TCC\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":4,\"SurveySourceGroupKey\":4},{\"ID\":2,\"Name\":\"TCC\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":4,\"SurveySourceGroupKey\":6},{\"ID\":65,\"Name\":\"TCC - Hourly\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":65,\"SurveySourceGroupKey\":6},{\"ID\":90,\"Name\":\"TCC per  Work RVU (2020 PFS)\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":113,\"SurveySourceGroupKey\":3},{\"ID\":90,\"Name\":\"TCC per  Work RVU (2020 PFS)\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":113,\"SurveySourceGroupKey\":1},{\"ID\":22,\"Name\":\"TCC per ASA Unit\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":21,\"SurveySourceGroupKey\":4},{\"ID\":22,\"Name\":\"TCC per ASA Unit\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":21,\"SurveySourceGroupKey\":1},{\"ID\":16,\"Name\":\"TCC per Patient\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":15,\"SurveySourceGroupKey\":1},{\"ID\":16,\"Name\":\"TCC per Patient\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":15,\"SurveySourceGroupKey\":4},{\"ID\":12,\"Name\":\"TCC per Visit\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":13,\"SurveySourceGroupKey\":4},{\"ID\":12,\"Name\":\"TCC per Visit\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":13,\"SurveySourceGroupKey\":1},{\"ID\":5,\"Name\":\"TCC per Work RVU\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":6,\"SurveySourceGroupKey\":1},{\"ID\":5,\"Name\":\"TCC per Work RVU\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":6,\"SurveySourceGroupKey\":4},{\"ID\":5,\"Name\":\"TCC per Work RVU\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":6,\"SurveySourceGroupKey\":3},{\"ID\":91,\"Name\":\"TCC per Work RVU (2021 PFS)\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":114,\"SurveySourceGroupKey\":1},{\"ID\":91,\"Name\":\"TCC per Work RVU (2021 PFS)\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":114,\"SurveySourceGroupKey\":3},{\"ID\":6,\"Name\":\"TCC to Collections\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":8,\"SurveySourceGroupKey\":3},{\"ID\":6,\"Name\":\"TCC to Collections\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":8,\"SurveySourceGroupKey\":4},{\"ID\":6,\"Name\":\"TCC to Collections\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":8,\"SurveySourceGroupKey\":1},{\"ID\":26,\"Name\":\"TDC\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":43,\"SurveySourceGroupKey\":5},{\"ID\":86,\"Name\":\"Threshold Incentive Percent\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":78,\"SurveySourceGroupKey\":6},{\"ID\":34,\"Name\":\"Total Compensation\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":30,\"SurveySourceGroupKey\":5},{\"ID\":18,\"Name\":\"Total Cost of Benefits\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":10,\"SurveySourceGroupKey\":3},{\"ID\":18,\"Name\":\"Total Cost of Benefits\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":10,\"SurveySourceGroupKey\":1},{\"ID\":18,\"Name\":\"Total Cost of Benefits\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":10,\"SurveySourceGroupKey\":4},{\"ID\":19,\"Name\":\"Total Cost of Benefits as a Percent of TCC\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":11,\"SurveySourceGroupKey\":4},{\"ID\":19,\"Name\":\"Total Cost of Benefits as a Percent of TCC\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":11,\"SurveySourceGroupKey\":1},{\"ID\":19,\"Name\":\"Total Cost of Benefits as a Percent of TCC\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":11,\"SurveySourceGroupKey\":3},{\"ID\":11,\"Name\":\"Visits\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":12,\"SurveySourceGroupKey\":1},{\"ID\":11,\"Name\":\"Visits\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":12,\"SurveySourceGroupKey\":4},{\"ID\":3,\"Name\":\"Work RVUs\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":5,\"SurveySourceGroupKey\":4},{\"ID\":3,\"Name\":\"Work RVUs\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":5,\"SurveySourceGroupKey\":1},{\"ID\":3,\"Name\":\"Work RVUs\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":5,\"SurveySourceGroupKey\":3},{\"ID\":88,\"Name\":\"Work RVUs (2020 PFS)\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":110,\"SurveySourceGroupKey\":3},{\"ID\":88,\"Name\":\"Work RVUs (2020 PFS)\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":110,\"SurveySourceGroupKey\":1},{\"ID\":89,\"Name\":\"Work RVUs (2021 PFS)\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":112,\"SurveySourceGroupKey\":1},{\"ID\":89,\"Name\":\"Work RVUs (2021 PFS)\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":112,\"SurveySourceGroupKey\":3},{\"ID\":14,\"Name\":\"Work RVUs per Patient\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":18,\"SurveySourceGroupKey\":1},{\"ID\":14,\"Name\":\"Work RVUs per Patient\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":18,\"SurveySourceGroupKey\":4},{\"ID\":9,\"Name\":\"Work RVUs per Visit\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":14,\"SurveySourceGroupKey\":4},{\"ID\":9,\"Name\":\"Work RVUs per Visit\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":14,\"SurveySourceGroupKey\":1},{\"ID\":8,\"Name\":\"Years since Residency\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":24,\"SurveySourceGroupKey\":1},{\"ID\":8,\"Name\":\"Years since Residency\",\"AgingFactor\":0,\"DefaultDataType\":null,\"OrderDataType\":24,\"SurveySourceGroupKey\":4}]";
            var list = JsonConvert.DeserializeObject<List<BenchmarkDataType>>(jsonData);
            var result = list?.Where(x => x.SurveySourceGroupKey == sourceGroupKey).ToList();

            return await Task.FromResult(result?.OrderBy(x => x.Name).ToList());
        }
        catch (Exception ex)
        {
            _logger.LogError($"\nError {ex.Message}\n");

            throw;
        }
    }
}
